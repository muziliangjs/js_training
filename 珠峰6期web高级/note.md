### progress：75 ing
   
---

闭包

- 闭包是一种函数运行机制(不是某种代码形式)
- 当前函数执行形成的上下文，正常情况下代码运行完浏览器为了优化内存都会把上下文出栈释放掉，如果上下文中某个东西被上下文以外的事物所占用了，当前上下文就不能被释放，产生了不被释放的上下文，所谓的闭包
- 根据浏览器的垃圾回收机制，函数执行会形成一个私有上下文，如果上下文中的某些内容（一般指的是堆内存地址）被上下文以外的一些事物（例如：变量/事件绑定）所占用，则当前上下文不能被出栈释放【浏览器垃圾回收机制 GC 所决定的】 => "闭包"的机制:形成一个不被释放的上下文
  - 保护：保护私有上下文中的“私有变量”和外接互不影响
  - 保存：上下文不被释放，那么上下文中“私有变量”和”值“都会被保存起来，可以供其下级上下文中使用
- 弊端：如果大量使用闭包，会导致栈内存太大，页面渲染变慢，性能受到影响，所以真实项目中需要”合理应用闭包“;某些代码会导致栈溢出或者内存泄漏，这些操作都是我们需要注意的；

简书你对闭包的理解，以及以及优缺点 1.闭包该概念

- 堆栈内存（ECStack/EC/VO/AO/SCOPE/SCOPE-CHAIN/HE AP）
- GC 垃圾回收机制 2.作用
- 总述作用：保存、保护 优缺点
- 实战中的应用（循环事件绑定、防抖和节流...）
- 进阶函数
- 源码分析
- 自主封装
  ...

  3.自己对闭包的认知和理解（夹杂自己的思想）
  技巧上 1.不要哆嗦，不要深入展开，回答全面是为了引导面试官的兴趣，让其根据你的回他具体细问... 2.回答的时候多一些助词，例如：在我之前的项目开发中... 3.不要太学术化， 像讲故事一样，通俗易懂，言简意赅的讲出来即可

我个人对闭包理解还算比较深刻的，因为我之前刚开始入职那会，对这方便理解不是很好，经常出问题，
后来感觉这样不行，自己看了很多书，看了很多文章，花了很长时间吃透了，我跟您说一下哪块有不足您指点指点，
我对闭包理解主要几方面，第一方面为什么产生闭包，浏览器都是把代码放到栈里去执行，进栈执行，在进栈执行过程中
由于它里面的东西，被当前自己形成的上下文，它形成的上下文，外部的东西所占用了，它就不能被释放了，
根据浏览器垃圾回收机制，被占用不被释放它就一直保留下来了，这种机制就是闭包，
闭包这种东西不管是研究 js 也好，做项目也好，都是有很大帮助的，因为他不被释放，第一个保护里面私有变量。不冲突，另一个方面也会保存里面的内容，供它下级上下文去使用，这也是项目中用到的技巧，
当然闭包也会产生不销毁内存，对内存消耗也是很大的，性能也不是很好，项目当中我建议还是不要滥用闭包
具体说下几个实战的场景吧，之前做项目的时候，循环绑定要用到它的索引，后来使用 let，后来使用事件委托
除了实战当前，像我之前研究的时候一些进来函数，柯里化函数 compose 函数，都是闭包这种机制来完成的
我也看过很多源码 redux，jQuery 他们里面很多函数也都是用闭包完成的
我自己项目也去封装过一些东西，也是看他们的源码把，看完之后感觉挺爽，学会很多东西，也尝试封装，给公司提高了效率，这里面也用到闭包
闭包这个东西项目当中无处不见的，基本上什么地方都会用到这种机制，真的把这种机制掌握的话，不管是对我们以后自己封装也好，看别人源码也好实战也好性能优化也好，都是有很大帮助的，这也是后来很长时间研究闭包，因为我感觉这个东西研究透的话对我们项目中有很大帮助
我所要表达了解的就这些，您看看哪块不对，给我指正一下

let 和 var 的区别

- 变量提升
- 重复声明
- 暂时性死区
- 和 GO(window)的关系
- 块级上下文
